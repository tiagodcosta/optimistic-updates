(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,t,n){},16:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n.n(a),r=n(3),u=n.n(r),o=n(1),c=n(4),i=n(5),d=n(7),l=n(6),m=n(8),p=[{id:1,message:"Are you going to the beach?",answer:"---"},{id:2,message:"Do you like chocolate?",answer:"---"},{id:3,message:"Did you eat today?",answer:"---"}],f=(n(15),function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(d.a)(this,Object(l.a)(t).call(this,e))).handleClick=function(e,t){n.setState(function(n){var a=Object(o.a)(n.updates),s=a.findIndex(function(t){return t.id===e});return a[s]={id:a[s].id,message:a[s].message,answer:t},{updates:a,errorMessage:""}},function(){n.mockupSaveRequest().then(function(){}).catch(function(){n.setState(function(t){var n=Object(o.a)(t.updates),a=n.findIndex(function(t){return t.id===e});return n[a]={id:n[a].id,message:n[a].message,answer:"---"},{updates:n,errorMessage:"Sorry we could not send your answer :("}})})})},n.state={updates:p,errorMessage:""},n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"mockupSaveRequest",value:function(){return new Promise(function(e,t){var n=Math.floor(Math.random()*Math.floor(3));setTimeout(function(){return 1===n?t("Error here"):e("Success")},500)})}},{key:"render",value:function(){var e=this,t=this.state,n=t.updates,a=t.errorMessage;return s.a.createElement("section",{className:"updates"},s.a.createElement("h1",{className:"updates__title"},"Optimistic Updates"),s.a.createElement("section",{className:"updates__container"},n.map(function(t,n){return s.a.createElement("article",{className:"updates__item",key:n,id:t.id},s.a.createElement("section",null,s.a.createElement("p",null,t.message),s.a.createElement("p",null,"Answer: ",t.answer)),s.a.createElement("button",{className:"updates__button updates__button--green",onClick:function(){return e.handleClick(t.id,"yes")}},"Yes"),s.a.createElement("button",{className:"updates__button updates__button--red",onClick:function(){return e.handleClick(t.id,"no")}},"No"))}),s.a.createElement("p",{className:"updates__error"},a)))}}]),t}(a.PureComponent)),h=document.getElementById("root");u.a.render(s.a.createElement(f,null),h)},9:function(e,t,n){e.exports=n(16)}},[[9,1,2]]]);
//# sourceMappingURL=main.46a10d7c.chunk.js.map